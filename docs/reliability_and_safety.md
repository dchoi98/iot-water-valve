# Failure Modes and Effects Analysis (FMEA)

| Component/Function       | Failure Mode                                     | Failure Cause                                                                       | Failure Effect                                                                       | Severity (1-10) | Occurrence (1-10) | Detection (1-10) | RPN | Current Controls                                                          | Recommended Actions                                                                                                                      |
|--------------------------|--------------------------------------------------|-------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------|-----------------|-------------------|------------------|-----|---------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------|
| Solar Charging System    | Insufficient charging current                    | Panel degradation, extended cloudy weather, physical obstruction, dirt accumulation | Battery depletes over hours/days, eventual system shutdown                           | 9               | 5                 | 8                | 360 | Battery capacity provides ~40-hour buffer                                 | Add charge current monitoring, battery voltage tracking with alerts, predictive warnings based on charge history                         |
| Water Sensor             | False negative (no detection when water present) | Sensor corrosion, coating buildup, contact degradation, wire break                  | Water leak undetected, property damage occurs                                        | 9               | 4                 | 9                | 324 | Threshold detection at 700 ADC counts                                     | Implement sensor health monitoring or redundant sensor                                                                                   |
| Battery                  | Capacity degradation or cell failure             | Thermal stress, charge/discharge cycles                                             | Insufficient runtime, system shutdown during low-light periods                       | 9               | 4                 | 8                | 288 | Solar charging attempts to maintain charge                                | Add battery voltage/capacity monitoring with trend analysis, thermal management improvements, low-battery alerts before critical failure |
| Valve Mechanism          | Stuck or jammed (cannot move)                    | Debris accumulation, corrosion, mechanical wear                                     | Cannot close valve on leak (stuck open) or cannot open for normal use (stuck closed) | 9               | 4                 | 7                | 252 | None                                                                      | Add servo current monitoring to detect high torque, implement position feedback sensor                                                   |
| Servo Motor              | Mechanical or electrical failure                 | Gear wear, motor burnout, water ingress, wire break                                 | Cannot actuate valve                                                                 | 9               | 3                 | 7                | 189 | None                                                                      | Add position feedback (potentiometer or encoder), current/torque monitoring                                                              |
| ESP32-C3 Microcontroller | Processor crash or lockup                        | Software bug, stack overflow, power glitch                                          | System unresponsive, cannot detect leaks or respond to commands                      | 8               | 3                 | 6                | 144 | MQTT ping with forced disconnect/reboot on failure                        | Structured exception handling, periodic intentional reboot cycle (weekly)                                                                |
| Power Latching Circuit   | Premature shutdown                               | Button contact bounce, latch transistor failure                                     | System powers off unexpectedly                                                       | 8               | 2                 | 9                | 144 | 2-second hold time requirement, debouncing RC circuit                     | None                                                                                                                                     |
| WiFi/MQTT Communication  | Connection loss                                  | Network outage, router failure, signal degradation, credentials invalid             | Cannot remotely control valve, no leak notifications to app                          | 6               | 5                 | 4                | 120 | Auto-reconnect logic, valve closes on ping failure, manual valve upstream | Offline operation mode, connection quality monitoring                                                                                    |
| Valve Auto-Close Timer   | Timer fails to trigger closure after 30 minutes  | millis() overflow (49-day rollover), software bug                                   | Valve remains open indefinitely, potential flooding if unattended                    | 7               | 2                 | 4                | 56  | Comparison logic handles millis() rollover                                | Publish valve state to MQTT for external monitoring                                                                                      |
| Water Sensor             | False positive (detection when no water present) | Condensation, high humidity, electrical noise, threshold drift                      | Unnecessary valve closures, nuisance alarms, reduced user confidence                 | 3               | 5                 | 2                | 30  | Fixed threshold at 700 ADC counts                                         | Require N consecutive readings above threshold, environmental sealing improvements                                                       |

##
Â© 2025. This work is openly licensed via [CC BY-SA 4.0](https://creativecommons.org/licenses/by-sa/4.0/).